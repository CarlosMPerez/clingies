<Window
  xmlns="https://github.com/avaloniaui"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  x:Class="Clingies.App.Windows.ClingyWindow"
  Width="300"
  MinWidth="300"
  CanResize="True"
  Background="#FFFFAA"
  SystemDecorations="BorderOnly"
  MinHeight="100"
  TransparencyLevelHint="AcrylicBlur, Blur, Transparent"
  WindowStartupLocation="Manual"
  ShowInTaskbar="False">

  <!-- ðŸ”§ Custom Styles -->
  <Window.Styles>
    <Style Selector="TextBox">
      <Setter Property="Background" Value="#FFFFAA"/>
      <Setter Property="Foreground" Value="Black"/>
      <Setter Property="CaretBrush" Value="Black"/>
      <Setter Property="BorderBrush" Value="Transparent"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="Padding" Value="8"/>
      <Setter Property="FontSize" Value="14"/>
      <Setter Property="FontFamily" Value="sans-serif"/>
    </Style>

    <Style Selector="TextBox /template/ Border">
      <Setter Property="Background" Value="#FFFFAA"/>
      <Setter Property="BorderBrush" Value="Transparent"/>
    </Style>

    <Style Selector="TextBox:pointerover /template/ Border">
      <Setter Property="Background" Value="#FFFFAA"/>
      <Setter Property="BorderBrush" Value="Transparent"/>
    </Style>

    <Style Selector="TextBox:focus /template/ Border">
      <Setter Property="Background" Value="#FFFFAA"/>
      <Setter Property="BorderBrush" Value="Transparent"/>
    </Style>
  </Window.Styles>

  <!-- ðŸ—’ï¸ Sticky Note UI -->
  <Border BorderBrush="Black" BorderThickness="1">
    <Grid RowDefinitions="Auto,*">

      <!-- HEADER -->
      <Grid Background="#87CEFA" Height="30" PointerPressed="OnHeaderDrag">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>

        <!-- ON TOP BUTTON -->
        <Button
          x:Name="PinButton"
          Grid.Column="0"
          Width="20" Height="30"
          Background="Transparent"
          BorderThickness="0"
          Cursor="Hand"
          Click="OnPinClick"
          HorizontalAlignment="Left"
          VerticalAlignment="Top"
          Margin="0"
          Classes="pin">
          <Button.Styles>
            <Style Selector="Button.pin:pointerover">
              <Setter Property="Background" Value="#444"/>
            </Style>
            <Style Selector="Button.pin:pressed">
              <Setter Property="Background" Value="#444"/>
            </Style>
          </Button.Styles>
        </Button>

        <!-- TITLE -->
        <TextBlock 
            Name="TitleTextBlock"
            Grid.Column="1"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Foreground="Black"
            FontWeight="Bold"
            TextTrimming="CharacterEllipsis"/>

        <!-- CLOSE BUTTON -->
        <Button Grid.Column="2" Content="X"
                Background="Transparent" BorderThickness="0"
                Foreground="Black" FontSize="14"
                Click="OnClose"
                HorizontalAlignment="Center" VerticalAlignment="Center"
                Width="20" Height="20" Padding="0"/>
      </Grid>

      <!-- CONTENT -->
      <StackPanel x:Name="LayoutRoot"
                  Grid.Row="1"
                  Orientation="Vertical"
                  Margin="0"
                  Spacing="0"
                  MinHeight="40">
        <TextBox
            x:Name="ContentBox"
            AcceptsReturn="True"
            TextWrapping="Wrap"
            BorderThickness="0"
            VerticalAlignment="Top"
            HorizontalAlignment="Stretch"
            Background="Transparent"
            Foreground="Black"
            FontSize="14"
            MaxLines="1500"
            Margin="8" />
      </StackPanel>
    </Grid>
  </Border>  
</Window>
